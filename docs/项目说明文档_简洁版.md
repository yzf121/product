# AI 助手平台 - 项目简介

本项目是一个基于 **SAP Cloud Application Programming (CAP) Node.js** 框架和 **SAP UI5 Freestyle** 前端技术构建的企业级 AI 辅助平台，集成了**阿里云百炼 (DashScope)** 大模型服务。

**核心能力：**
平台提供 **4 个专业 AI 助手**（ABAP Clean Core、SAP CPI、功能文档、技术文档）和 **3 个开发工具**（代码审查、单元测试生成、Mermaid 流程/架构图生成）。系统支持多轮对话、Markdown 富文本渲染、代码高亮及历史会话管理。

**用户界面体验：**
前端采用 **SAP Fiori 风格**设计。**首页**为 Launchpad 磁贴导航，清晰展示所有助手入口；**聊天界面**采用响应式双栏布局，左侧管理历史会话，右侧进行实时交互，支持 Markdown 渲染和代码一键复制；**流程图工具**提供左右分屏视图，左侧输入自然语言描述，右侧即时渲染 Mermaid 图表，并支持 PNG/SVG 导出及 Draw.io 在线编辑。

**技术架构与 AI 调用：**
后端 (`srv/server.js`) 作为安全代理网关，通过自定义 Express 路由 `/api/chat/stream` 封装了阿里云 API。前端通过发送包含 `message` 和可选 `aiType` 的请求，触发后端根据预置映射调用对应的百炼智能体应用 ID。响应采用 **Server-Sent Events (SSE)** 技术，实现打字机效果的流式输出。此外，系统实现了混合会话策略，优先使用云端 Session ID 保持上下文，确保长对话的连贯性与 Token 经济性。
